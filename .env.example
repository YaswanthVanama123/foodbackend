# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# DATABASE
# ============================================
# MongoDB connection string
# Local: mongodb+srv://foodadmin:Yaswanth123@cluster0.0wuz8fl.mongodb.net/?appName=Cluster0
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/patlinks
MONGODB_URI=mongodb+srv://foodadmin:Yaswanth123@cluster0.0wuz8fl.mongodb.net/?appName=Cluster0

# ============================================
# JWT SECRETS
# ============================================
# Generate secure random strings for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production

# Token expiration times (e.g., 7d, 24h, 30m)
JWT_ACCESS_TOKEN_EXPIRE=7d
JWT_REFRESH_TOKEN_EXPIRE=30d

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
# Add your frontend URLs here
CORS_ORIGIN=http://localhost:5173,http://localhost:5174,http://localhost:3000

# For development with subdomains
# CORS_ORIGIN=http://pizzahut.localhost:5173,http://burgerking.localhost:5173

# ============================================
# MULTI-TENANT CONFIGURATION
# ============================================
# Enable subdomain-based tenant identification
ENABLE_SUBDOMAIN_MODE=true

# Default restaurant subdomain for migration
DEFAULT_RESTAURANT_SUBDOMAIN=default

# Bypass tenant middleware in development (use x-restaurant-id header)
DEV_BYPASS_TENANT=true

# ============================================
# SUPER ADMIN DEFAULTS
# ============================================
# Used for initial super admin creation via seed scripts
# CHANGE THESE IN PRODUCTION!
SUPER_ADMIN_USERNAME=superadmin
SUPER_ADMIN_PASSWORD=SuperAdmin@123
SUPER_ADMIN_EMAIL=admin@patlinks.com
SUPER_ADMIN_FIRST_NAME=Platform
SUPER_ADMIN_LAST_NAME=Administrator

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Maximum file size in bytes (10MB default)
MAX_FILE_SIZE=10485760

# Allowed file types (comma-separated MIME types)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# Upload directory (for local storage)
UPLOAD_DIR=uploads

# Base URL for serving files
# Local: http://localhost:5000
# Production: https://api.yourdomain.com
BASE_URL=http://localhost:5000

# ============================================
# RATE LIMITING
# ============================================
# API rate limit (requests per 15 minutes per IP)
API_RATE_LIMIT=100

# Auth rate limit (login attempts per 15 minutes per IP)
AUTH_RATE_LIMIT=5

# ============================================
# FIREBASE CLOUD MESSAGING (FCM)
# ============================================
# Firebase Admin SDK Configuration
# Get these values from Firebase Console > Project Settings > Service Accounts
# Download the service account JSON file and extract the values below

# Firebase project ID
FIREBASE_PROJECT_ID=your-firebase-project-id

# Firebase private key (replace \n with actual newlines in production)
# Format: "-----BEGIN PRIVATE KEY-----\nYOUR_KEY_HERE\n-----END PRIVATE KEY-----\n"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Firebase client email (service account email)
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com

# Firebase database URL (optional)
FIREBASE_DATABASE_URL=https://your-project-id.firebaseio.com

# Enable/disable Firebase notifications
FIREBASE_ENABLED=true

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
# SMTP configuration for sending emails (notifications, password resets, etc.)
# Uncomment and configure to enable email features
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=noreply@patlinks.com
# EMAIL_FROM_NAME=Patlinks

# ============================================
# CDN & CLOUD STORAGE CONFIGURATION
# ============================================
# Storage provider: LOCAL | S3 | CLOUDINARY
CDN_PROVIDER=LOCAL

# ============================================
# AWS S3 CONFIGURATION (Optional)
# ============================================
# Required when CDN_PROVIDER=S3
# Use S3 for scalable image storage and delivery
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=patlinks-images
# AWS_S3_ACL=public-read

# CloudFront CDN URL (optional, improves performance)
# AWS_CLOUDFRONT_URL=https://d111111abcdef8.cloudfront.net

# Signed URL expiration time in seconds (default: 3600 = 1 hour)
# AWS_SIGNED_URL_EXPIRY=3600

# ============================================
# CLOUDINARY CONFIGURATION (Optional)
# ============================================
# Required when CDN_PROVIDER=CLOUDINARY
# Cloudinary provides automatic image optimization and transformations
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret
# CLOUDINARY_FOLDER=patlinks
# CLOUDINARY_SECURE=true

# ============================================
# PAYMENT PROCESSING (Optional)
# ============================================
# Stripe configuration for payment processing
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# PayPal configuration (alternative payment method)
# PAYPAL_CLIENT_ID=your-client-id
# PAYPAL_CLIENT_SECRET=your-client-secret
# PAYPAL_MODE=sandbox

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable detailed error messages (disable in production)
DETAILED_ERRORS=true

# Enable request logging with Morgan
MORGAN_ENABLED=true
MORGAN_FORMAT=dev

# ============================================
# SECURITY
# ============================================
# Helmet security headers (recommended: true)
HELMET_ENABLED=true

# MongoDB query sanitization (recommended: true)
MONGO_SANITIZE_ENABLED=true

# ============================================
# ANALYTICS & ERROR TRACKING (Optional)
# ============================================
# Sentry DSN for error tracking and monitoring
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_ENVIRONMENT=development

# Google Analytics tracking ID
# GA_TRACKING_ID=UA-...

# ============================================
# CACHING (Optional)
# ============================================
# Redis configuration for caching and session management
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password
# CACHE_TTL=3600

# ============================================
# BACKGROUND JOBS (Optional)
# ============================================
# Bull/BullMQ configuration for job queues
# REDIS_HOST=localhost
# REDIS_PORT=6379
# JOB_CONCURRENCY=10

# ============================================
# TESTING
# ============================================
# Test database (separate from development database)
# MONGODB_TEST_URI=mongodb+srv://foodadmin:Yaswanth123@cluster0.0wuz8fl.mongodb.net/?appName=Cluster0_test

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable features during development
# ENABLE_ANALYTICS=true
# ENABLE_NOTIFICATIONS=true
# ENABLE_REVIEWS=true
# ENABLE_LOYALTY_PROGRAM=false

# ============================================
# THIRD-PARTY INTEGRATIONS (Optional)
# ============================================
# Twilio SMS notifications
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# SendGrid email service
# SENDGRID_API_KEY=your-api-key
# SENDGRID_FROM_EMAIL=noreply@patlinks.com

# ============================================
# PRODUCTION NOTES
# ============================================
# Before deploying to production:
# 1. Generate secure JWT secrets
# 2. Change all default passwords
# 3. Update CORS_ORIGIN with production URLs
# 4. Set NODE_ENV=production
# 5. Use strong MongoDB authentication
# 6. Enable HTTPS/SSL
# 7. Configure proper rate limiting
# 8. Set up monitoring and logging
# 9. Configure backup strategy
# 10. Review and test all security settings
