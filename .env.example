# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# DATABASE
# ============================================
MONGODB_URI=mongodb://localhost:27017/patlinks

# ============================================
# JWT SECRETS
# ============================================
# Generate secure random strings for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production

# Token expiration times
JWT_ACCESS_TOKEN_EXPIRE=7d
JWT_REFRESH_TOKEN_EXPIRE=30d

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:5173,http://localhost:5174,http://localhost:3000

# For development with subdomains
# Add patterns like: http://*.localhost:5173
# CORS_ORIGIN=http://pizzahut.localhost:5173,http://burgerking.localhost:5173,http://tacobell.localhost:5173

# ============================================
# MULTI-TENANT CONFIGURATION
# ============================================
# Enable subdomain-based tenant identification
ENABLE_SUBDOMAIN_MODE=true

# Default restaurant subdomain for migration
DEFAULT_RESTAURANT_SUBDOMAIN=default

# ============================================
# SUPER ADMIN DEFAULTS
# ============================================
# Used for initial super admin creation
SUPER_ADMIN_USERNAME=superadmin
SUPER_ADMIN_PASSWORD=SuperAdmin@123
SUPER_ADMIN_EMAIL=admin@patlinks.com
SUPER_ADMIN_FIRST_NAME=Platform
SUPER_ADMIN_LAST_NAME=Administrator

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Maximum file size in bytes (10MB)
MAX_FILE_SIZE=10485760

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# Upload directory (for local storage)
UPLOAD_DIR=uploads

# Base URL for serving local files
BASE_URL=http://localhost:5000

# ============================================
# RATE LIMITING
# ============================================
# API rate limit (requests per 15 minutes)
API_RATE_LIMIT=100

# Auth rate limit (login attempts per 15 minutes)
AUTH_RATE_LIMIT=5

# ============================================
# SOCKET.IO CONFIGURATION
# ============================================
# Socket.io server path
SOCKET_PATH=/socket.io

# CORS origin for Socket.io
SOCKET_CORS_ORIGIN=http://localhost:5173,http://localhost:5174

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
# SMTP configuration for sending emails
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=noreply@patlinks.com

# ============================================
# CDN & CLOUD STORAGE CONFIGURATION
# ============================================
# Storage provider: LOCAL | S3 | CLOUDINARY
CDN_PROVIDER=LOCAL

# ============================================
# AWS S3 CONFIGURATION (Optional)
# ============================================
# Required when CDN_PROVIDER=S3
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=patlinks-images
# AWS_S3_ACL=public-read

# CloudFront CDN URL (optional, for better performance)
# AWS_CLOUDFRONT_URL=https://d111111abcdef8.cloudfront.net

# Signed URL expiration time in seconds (default: 3600 = 1 hour)
# AWS_SIGNED_URL_EXPIRY=3600

# ============================================
# CLOUDINARY CONFIGURATION (Optional)
# ============================================
# Required when CDN_PROVIDER=CLOUDINARY
# For cloud-based image storage with automatic optimization
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret
# CLOUDINARY_FOLDER=patlinks
# CLOUDINARY_SECURE=true

# ============================================
# STRIPE CONFIGURATION (Optional)
# ============================================
# For payment processing
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================
# LOGGING
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# SECURITY
# ============================================
# Helmet security headers (enabled by default)
HELMET_ENABLED=true

# MongoDB sanitization (enabled by default)
MONGO_SANITIZE_ENABLED=true

# ============================================
# ANALYTICS & MONITORING (Optional)
# ============================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://...@sentry.io/...

# Google Analytics ID
# GA_TRACKING_ID=UA-...

# ============================================
# DEVELOPMENT OPTIONS
# ============================================
# Enable detailed error messages in development
DETAILED_ERRORS=true

# Enable request logging in development
MORGAN_ENABLED=true
MORGAN_FORMAT=dev

# Bypass tenant middleware for dev (use x-restaurant-id header)
DEV_BYPASS_TENANT=true
